.grid
  .panel.panel-default
    p.page-title
      i.fa.fa-puzzle-piece(style="color: #e25440;")
      |  Mounts for backups&nbsp;
      a.btn.btn-default(ui-sref = 'scheduler.backup')
        i.fa.fa-level-up
.grid
  .panel.panel-default
    .panel-body
      .alert.alert-info
        i.fa.fa-info-circle
        | &nbsp;All mount paths are taken as relative to `{{ ctrl.backUpRootPath }}`, configured on server side
      .text-center(ng-if = '!ctrl.collectionLength(ctrl.backUpMounts)') No mounts 
      table.table.table-hover(ng-if = 'ctrl.collectionLength(ctrl.backUpMounts)')
        tr
          th Mount path
          th Device
          th State
          th Error
          th
        tr(ng-repeat = 'mount in ctrl.backUpMounts | orderBy:["host", "share", "path"] track by mount.id')
          td
            span.text-info {{ ctrl.backUpRootPath }}
            | /{{ mount.path }}
          td {{ mount.host }}:{{ mount.share }}
          td
            span(ng-if = 'mount.mounted')
              span.text-success
                | Mounted&nbsp;
                i.fa.fa-puzzle-piece
              button.btn.btn-warning.pull-right(type = 'button', ng-click = 'ctrl.unmount(mount.id)'): i.fa.fa-chain-broken
            span(ng-if = '!mount.mounted')
              span.text-muted Unmounted&nbsp;
              button.btn.btn-primary.pull-right(type = 'button', ng-click = 'ctrl.mount(mount.id)'): i.fa.fa-link
          td: span.text-muted {{ mount.error }}
          td: button.btn.btn-danger.pull-right(type = 'button', ng-click = 'ctrl.removeMount(mount.id)'): i.fa.fa-trash
      form(ng-submit = 'ctrl.addMount(ctrl.host, ctrl.share, ctrl.path)')
        fieldset
          legend New NFS mount
          .form-inline
            .form-group
              label.sr-only Host&nbsp;
              input.form-control(type = 'text', ng-model = 'ctrl.host', placeholder = 'host', required)
            strong &nbsp;:&nbsp;
            .form-group
              label.sr-only Share&nbsp;
              input.form-control(type = 'text', ng-model = 'ctrl.share', placeholder = 'share', required)
            | &nbsp;
            .form-group
              label Mount path&nbsp;
              .input-group
                span.input-group-addon {{ ctrl.backUpRootPath }}/
                input.form-control(type = 'text', ng-model = 'ctrl.path', placeholder = '(optional)')
            | &nbsp;
            button.btn.btn-primary.pull-right(type = 'submit', ng-disabled = '!ctrl.ready')
              | Save&nbsp;
              i.fa.fa-floppy-o
//- pre {{ ctrl.backUpMounts }}
